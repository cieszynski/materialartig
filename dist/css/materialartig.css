*,
*::after,
*::before {
    margin: 0;
    text-decoration: none;
    box-sizing: border-box;
}

h1,
h3 {
    font-size: 0;
}

html {
    /* prevents addressbar movement */
    overflow: hidden;
    height: 100%;
}

body {
    display: flex;
    /* prevents addressbar movement */
    overflow: hidden;
    height: 100%;

    &.navigationbar {
        flex-direction: row;
        justify-content: center;
        align-items: end;
    }

    &.navigationrail {
        flex-direction: column;
        justify-content: center;
        align-items: start;
    }

    &.navigationbar.navigationrail {
        @media (orientation: portrait) {
            & {
                flex-direction: row;
                align-items: end;
            }
        }

        @media (orientation: landscape) {
            & {
                flex-direction: column;
                align-items: start;
            }
        }
    }

    &.navigationbar,
    &.navigationrail {

        /* if no :target then show first-of-type */
        &:not(:has(:target))>article:first-of-type>section:first-of-type {
            display: flex;
        }

        /* if no :target then 1st navbar button active */
        &:not(:has(:target))>article:first-of-type>*.navigation-button,
        /* if :target then navbar button active */
        &>article:has(:target)>*.navigation-button {
            color: red;
        }
    }

    &>article>*.navigation-button {
        border: 2px solid gray;
        justify-content: center;
        position: relative;
        align-items: end;
        display: flex;
        z-index: 100;
        height: 80px;
        width: 80px;
    }
}

/* common for all sections */
section {
    background-color: #ddd;
    position: fixed;
    display: none;
    inset: 0;

    &:target,
    &:has(:target) {
        display: flex;
    }

    /* if no :target then show first-of-type */
    &:not(:has(:target))>article:first-of-type>section:first-of-type {
        @media (orientation: landscape) {
            &:is(body:is(.navigationrail) article section) {
                display: flex;
            }
        }
    }

    &:is(body.navigationbar:not(.navigationrail)>article>section) {
        inset: 0 0 80px 0;

        & .listdetailview-content {
            inset: 0 0 80px 0;
        }
    }

    &:is(body.navigationrail:not(.navigationbar)>article>section) {
        inset: 0 0 0 80px;

        @media (orientation: portrait) {
            & .listdetailview-content {
                inset: 0 0 0 80px;
            }
        }

        @media (orientation: landscape) {
            & .listdetailview-item {
                width: max(200px, calc(calc(100vw - 80px) * .3));
            }

            & .listdetailview-content {
                inset: 0 0 0 max(280px, calc(80px + calc(calc(100vw - 80px) * .3)));
            }
        }
    }

    &:is(body.navigationbar.navigationrail>article>section) {
        @media (orientation: portrait) {
            & {
                inset: 0 0 80px 0;
            }

            & .listdetailview-content {
                inset: 0 0 80px 0;
            }
        }

        @media (orientation: landscape) {
            & {
                inset: 0 0 0 80px;
            }

            & .listdetailview-item {
                width: max(200px, calc(calc(100vw - 80px) * .3));
            }

            & .listdetailview-content {
                inset: 0 0 0 max(280px, calc(80px + calc(calc(100vw - 80px) * .3)));
            }
        }
    }

    &.listdetailview {
        overflow: clip auto;
        border: 2px solid green;
        flex-direction: column;

        & .listdetailview-item {
            display: block;
            border: 2px solid yellow;
            height: 200px;
        }

        & .listdetailview-content {
            border: 2px solid blue;
        }
    }


}